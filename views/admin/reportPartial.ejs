<% if (!reportData || !reportData.report) { %>
    <p>No data available for the selected period.</p>
  <% } else { %>
<!-- reportPartial.ejs -->
<div class="row text-center mb-4">
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5>Overall Order Amount</h5>
                <p>₹<%= reportData.report.overallOrderAmount %></p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5>Overall Discount</h5>
                <p>₹<%= reportData.report.overallDiscount %></p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5>Overall Sales Count</h5>
                <p><%= reportData.report.overallSalesCount %></p>
            </div>
        </div>
    </div>
</div>

<!-- Orders Table -->
<table class="table table-responsive table-striped">
    <thead>
        <tr>
            <th>Invoice No</th>
            <th>Invoice Date</th>
            <th>Items</th>
            <th>Total Price</th>
            <th>Total Discount</th>
            <th>Status</th>
            <th>Payment Method</th>
            <th>Payment Status</th>
        </tr>
    </thead>
    <tbody>
        <% reportData.orderDetails.forEach(order => { %>
            <tr>
                <td><%= order.invoice.invoiceNo %></td>
                <td><%= new Date(order.invoice.invoiceDate).toLocaleDateString() %></td>
                <td>
                    <% order.orderedItems.forEach(item => { %>
                        <p><%= item.product.productName %> (<%= item.quantity %>)</p>
                    <% }) %>
                </td>
                <td>₹<%= order.totalPrice %></td>
                <td>₹<%= order.discount %></td>
                <td><%= order.status %></td>
                <td><%= order.paymentMethod %></td>
                <td><%= order.paymentStatus %></td>
            </tr>
        <% }) %>
    </tbody>
</table>
<%}%>